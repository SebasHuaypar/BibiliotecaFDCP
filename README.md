# BiblioStatic - Virtual Library

This is a Next.js static virtual library website built with Firebase Studio.

## Managing Content (Books, Covers, PDFs)

Book information, cover images, and PDF files are managed locally within the project structure:

1.  **Book Details (JSON):**
    *   Edit the file `public/data/books.json`.
    *   Add, remove, or modify entries for each book. Each entry includes `id`, `title`, `author`, `cover` (image path), `pdfPath` (PDF path), `category`, and optional flags like `featured`, `isNew`, `mostRead`.
    *   Make sure each `id` is unique.

2.  **PDF Files:**
    *   Place your PDF files inside the `public/pdfs/` directory. (Create this directory if it doesn't exist).
    *   Update the `pdfPath` in `books.json` for each book to point to the correct file (e.g., `/pdfs/your-book-title.pdf`).

3.  **Cover Images:**
    *   Place your cover image files (e.g., `.png`, `.jpg`, `.jpeg`, `.webp`) inside the `public/covers/` directory. (Create this directory if it doesn't exist).
    *   Update the `cover` path in `books.json` for each book to point to the correct image (e.g., `/covers/your-cover-image.png`).
    *   A default placeholder image `public/covers/default_cover.png` is recommended. Create one if it doesn't exist.

4.  **Rebuild (Important for Static Export):**
    *   After making changes to `books.json` or adding/updating files in `public/`, you need to rebuild the static site.
    *   Run the command: `npm run export`
    *   This generates the static HTML/CSS/JS files in the `out/` directory.

## Deployment

### GitHub Pages (Static Hosting)

This project is configured for static export (`output: 'export'` in `next.config.js`), making it suitable for GitHub Pages.

1.  **Push to GitHub:** Ensure your project code (including the `public/` directory with your content) is pushed to a GitHub repository.

2.  **Enable GitHub Pages:**
    *   Go to your repository settings on GitHub.
    *   Navigate to the "Pages" section in the sidebar.
    *   Under "Build and deployment", select the source as "GitHub Actions". GitHub might suggest a workflow for Next.js static sites.

3.  **GitHub Actions Workflow (Recommended):**
    *   If GitHub doesn't automatically create it, add a workflow file (e.g., `.github/workflows/nextjs-static.yml`). Here's a basic example:

    ```yaml
    # .github/workflows/nextjs-static.yml
    name: Deploy Next.js site to Pages

    on:
      push:
        branches: ["main"] # Or your default branch
      workflow_dispatch:

    permissions:
      contents: read
      pages: write
      id-token: write

    concurrency:
      group: "pages"
      cancel-in-progress: false

    jobs:
      build:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v4
          - name: Setup Node
            uses: actions/setup-node@v4
            with:
              node-version: "20" # Use the Node.js version compatible with your project
              cache: 'npm'
          - name: Install dependencies
            run: npm ci
          - name: Build with Next.js
            run: npm run export # Uses the 'export' script from package.json
            # Optional: Configure basePath in next.config.js if deploying to a subdirectory like your-username.github.io/your-repo-name
            # env:
            #   NEXT_PUBLIC_BASE_PATH: /your-repo-name
          - name: Upload artifact
            uses: actions/upload-pages-artifact@v3
            with:
              path: ./out # The output directory from `npm run export`

      deploy:
        environment:
          name: github-pages
          url: ${{ steps.deployment.outputs.page_url }}
        runs-on: ubuntu-latest
        needs: build
        steps:
          - name: Deploy to GitHub Pages
            id: deployment
            uses: actions/deploy-pages@v4
    ```

    *   **Important:** If your repository name is `your-username.github.io`, you don't need `basePath`. If it's a different name (e.g., `my-library-app`), you'll likely need to configure `basePath` in `next.config.js` to match the repository name (e.g., `basePath: '/my-library-app'`) and potentially `assetPrefix` as well. Make sure to uncomment and set these in `next.config.js` if needed *before* pushing and building.

4.  **Access Your Site:** After the GitHub Action successfully completes, your site will be available at the URL provided in the Pages settings (e.g., `https://your-username.github.io/your-repo-name/` or `https://your-username.github.io/`).

### Other Static Hosting Providers

You can also deploy the contents of the `out/` directory (generated by `npm run export`) to any other static web hosting service (Netlify, Vercel - though Vercel also supports standard Next.js deployment, Cloudflare Pages, etc.). Simply upload the contents of the `out` folder to your provider.

## Development

To run the development server locally:

```bash
npm run dev
```

This will start the server, usually on `http://localhost:9002`.
